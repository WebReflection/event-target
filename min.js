/*! (c) 2017 Andrea Giammarchi (ISC) */
var EventTarget=function(){"use strict";var t="__event-target__"+Math.random(),e="object"==typeof global?global:self,n=Object.defineProperty,r=[].findIndex||function(t,e){for(var n=this.length;n--;)if(t.call(e,this[n]))return n;return n},i=e.WeakMap||function(){return{get:function(e){return e[t]},set:function(e,r){n(e,t,{configurable:!0,value:r})}}},a=e.EventTarget;try{new a}catch(o){a=function(){function t(){}function e(t){var e=t.options;e&&e.once&&u.call(t.target,this.type,t.listener,t.options),"function"==typeof t.listener?t.listener.call(t.target,this):t.listener.handleEvent(this)}function a(t){return this===t.listener}function o(t,e,n){var i=f(this),o=i[t]||(i[t]=[]);r.call(o,a,e)<0&&o.push({target:this,listener:e,options:n})}function c(t){var n=f(this),r=n[t.type];return r&&(h(t,{currentTarget:this,target:this}),r.forEach(e,t),delete t.currentTarget,delete t.target),!0}function u(t,e,n){var i=f(this),o=i[t];if(o){var c=r.call(o,a,e);-1<c&&o.splice(c,1)}}function l(){}var s=new i,f=function(t){return s.get(t)||v(t)},v=function(t){var e=new l;return s.set(t,e),e},h=function(t,e){for(var r in e)n(t,r,{configurable:!0,value:e[r]})};return h(t.prototype,{addEventListener:o,dispatchEvent:c,removeEventListener:u}),l.prototype=Object.create(null),t}()}return a}();